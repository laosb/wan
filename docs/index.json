[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/app.js",
    "content": "import { NormalizedWeChatArticle } from './'\n\nconst main = async () => {\n  const aboutHolaArticle = new NormalizedWeChatArticle('http://mp.weixin.qq.com/s/5NxzEg0N18v-AuOB_RmSDw')\n  await aboutHolaArticle.fetchAndParse()\n  console.log('BEFORE:', aboutHolaArticle.content, '\\n')\n  await aboutHolaArticle.normalize()\n  console.log('AFTER: ', aboutHolaArticle.content)\n}\n\nmain()\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/app.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "function",
    "name": "main",
    "memberof": "src/app.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/app.js~main",
    "access": "public",
    "export": false,
    "importPath": "wearticle/src/app.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 50,
    "kind": "file",
    "name": "src/class/ArticleImage.js",
    "content": "import axios from 'axios'\n\n/**\n * A class for images in WeChat articles.\n *\n * You'll find this in the returned array of {@link WeChatArticle#getMedia}. You\n * can use `instanceof` to find out if that element is an image.\n *\n * This library itself doesn't handle images, since many problems are closely\n * related to your implementations. But we do provide a set of API for easier\n * image handling. You can get the URL, remove it out of the article and set a\n * new URL to where you caches all images. Additionally you can directly stream\n * the image, and clean up that `<img>` for cleaner markup.\n *\n * @since 0.4.0\n */\nexport default class ArticleImage {\n  /**\n   * Takes a cheerio object(`$(someSelector)`). You won't `new` one in most cases.\n   * You can get all meta information of this image immediately.\n   *\n   * @param {$()} $img - a cheerio object representing an `<img>` in original WeChat\n   * article.\n   */\n  constructor ($img) {\n    this._$img = $img\n    const size = $img.data('s')\n\n    /** @type {number[]} */\n    if (size) this.size = size.split(',').map(e => e * 1)\n\n    /** @type {string} */\n    this.type = $img.data('type') + ''\n\n    /** @type {string} */\n    this._origUrl = $img.data('src') + ''\n\n    /** @type {string} */\n    this.url = $img.data('src') + ''\n\n    /** @type {number} */\n    this.copyright = $img.data('copyright') * 1\n\n    /** @type {number} */\n    this.ratio = $img.data('ratio') * 1\n\n    /** @type {number} */\n    this.width = $img.data('w') * 1\n    this._removed = false\n  }\n\n  /**\n   * Cleans up the `<img>` tag. Actually removes all WeChat-defined `data-*`,\n   * removes blank `style` and `class` attributes. And correct the URL to what\n   * you set, in case some of your transformation breaks it.\n   */\n  cleanup () {\n    if (!this._$img.attr('style')) this._$img.attr('style', null)\n    if (!this._$img.attr('class')) this._$img.attr('class', null)\n    this._$img.attr('data-type', null)\n    this._$img.attr('data-copyright', null)\n    this._$img.attr('data-src', null)\n    this._$img.attr('data-w', null)\n    this._$img.attr('data-ratio', null)\n    this._$img.attr('data-s', null)\n    this._$img.attr('src', this.url)\n    // this._$img.attr('width', this.size ? this.size[0] : this.width * this.ratio)\n  }\n\n  /**\n   * Removes current image from the HTML. This is useful when you decided to remove\n   * some decorational gifs & images.\n   */\n  remove () {\n    if (this._removed) throw new Error('This image has already been removed.')\n    this._$img.remove()\n    this._removed = true\n  }\n\n  /**\n   * See if you've already removed it.\n   */\n  isRemoved () { return this._removed }\n\n  /**\n   * Get the underlying $(img). Good for custom tranformations. But don't set `src`\n   * manually there. Try {@link ArticleImage#setUrl}.\n   */\n  get$Img () { return this._$img }\n\n  /**\n   * Set `src` for the picture. Please make sure this is correctly pointed to\n   * where you store the image.\n   */\n  setUrl (newUrl) {\n    this.url = newUrl + ''\n    this._$img.attr('src', this.url)\n  }\n\n  /**\n   * Returns a stream of that iamges. You can use this to persist images to disk.\n   * @example\n   * (await articleImage.stream()).pipe(fs.createWriteStream('xxx.jpg'))\n   *\n   * @return {Stream}\n   */\n  async stream () {\n    const { data } = await axios.get(this._origUrl, { responseType: 'stream' })\n    return data // Pipeable data stream.\n  }\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/class/ArticleImage.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 51,
    "kind": "class",
    "name": "ArticleImage",
    "memberof": "src/class/ArticleImage.js",
    "static": true,
    "longname": "src/class/ArticleImage.js~ArticleImage",
    "access": "public",
    "export": true,
    "importPath": "wearticle/src/class/ArticleImage.js",
    "importStyle": "ArticleImage",
    "description": "A class for images in WeChat articles.\n\nYou'll find this in the returned array of {@link WeChatArticle#getMedia}. You\ncan use `instanceof` to find out if that element is an image.\n\nThis library itself doesn't handle images, since many problems are closely\nrelated to your implementations. But we do provide a set of API for easier\nimage handling. You can get the URL, remove it out of the article and set a\nnew URL to where you caches all images. Additionally you can directly stream\nthe image, and clean up that `<img>` for cleaner markup.",
    "lineNumber": 17,
    "since": "0.4.0",
    "interface": false
  },
  {
    "__docId__": 52,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#constructor",
    "access": "public",
    "description": "Takes a cheerio object(`$(someSelector)`). You won't `new` one in most cases.\nYou can get all meta information of this image immediately.",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "$()"
        ],
        "spread": false,
        "optional": false,
        "name": "$img",
        "description": "a cheerio object representing an `<img>` in original WeChat\narticle."
      }
    ]
  },
  {
    "__docId__": 53,
    "kind": "member",
    "name": "_$img",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#_$img",
    "access": "private",
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 54,
    "kind": "member",
    "name": "size",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#size",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 55,
    "kind": "member",
    "name": "type",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#type",
    "access": "public",
    "description": null,
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 56,
    "kind": "member",
    "name": "_origUrl",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#_origUrl",
    "access": "private",
    "description": null,
    "lineNumber": 36,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 57,
    "kind": "member",
    "name": "url",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#url",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "type": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 58,
    "kind": "member",
    "name": "copyright",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#copyright",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 59,
    "kind": "member",
    "name": "ratio",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#ratio",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 60,
    "kind": "member",
    "name": "width",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#width",
    "access": "public",
    "description": null,
    "lineNumber": 48,
    "type": {
      "nullable": null,
      "types": [
        "number"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 61,
    "kind": "member",
    "name": "_removed",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#_removed",
    "access": "private",
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 62,
    "kind": "method",
    "name": "cleanup",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#cleanup",
    "access": "public",
    "description": "Cleans up the `<img>` tag. Actually removes all WeChat-defined `data-*`,\nremoves blank `style` and `class` attributes. And correct the URL to what\nyou set, in case some of your transformation breaks it.",
    "lineNumber": 57,
    "params": [],
    "return": null
  },
  {
    "__docId__": 63,
    "kind": "method",
    "name": "remove",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#remove",
    "access": "public",
    "description": "Removes current image from the HTML. This is useful when you decided to remove\nsome decorational gifs & images.",
    "lineNumber": 74,
    "params": [],
    "return": null
  },
  {
    "__docId__": 65,
    "kind": "method",
    "name": "isRemoved",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#isRemoved",
    "access": "public",
    "description": "See if you've already removed it.",
    "lineNumber": 83,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 66,
    "kind": "method",
    "name": "get$Img",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#get$Img",
    "access": "public",
    "description": "Get the underlying $(img). Good for custom tranformations. But don't set `src`\nmanually there. Try {@link ArticleImage#setUrl}.",
    "lineNumber": 89,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 67,
    "kind": "method",
    "name": "setUrl",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#setUrl",
    "access": "public",
    "description": "Set `src` for the picture. Please make sure this is correctly pointed to\nwhere you store the image.",
    "lineNumber": 95,
    "params": [
      {
        "name": "newUrl",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 69,
    "kind": "method",
    "name": "stream",
    "memberof": "src/class/ArticleImage.js~ArticleImage",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/class/ArticleImage.js~ArticleImage#stream",
    "access": "public",
    "description": "Returns a stream of that iamges. You can use this to persist images to disk.",
    "examples": [
      "(await articleImage.stream()).pipe(fs.createWriteStream('xxx.jpg'))"
    ],
    "lineNumber": 107,
    "return": {
      "nullable": null,
      "types": [
        "Stream"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 70,
    "kind": "file",
    "name": "src/class/NormalizedWeChatArticle.js",
    "content": "import WeChatArticle from './WeChatArticle'\nimport { normalize } from '../normalize'\n\n/**\n * `NormalizedWeChatArticle` is for fetching & normalize a WeChat article. It\n * extends {@link WeChatArticle}, and has an extra method\n * {@link NormalizedWeChatArticle#normalize}.\n *\n * Just to clarify, this class does nothing more than normalize. Except you don't\n * need to `fetchAndParse` before normalization. But you can still do this\n * manually, so you get the chance to make your own normalization work before our\n * process, with a cheerio instance from {@link NormalizedWeChatArticle#getContent$}.\n *\n * @example\n * import { NormalizedWeChatArticle } from 'wearticle'\n * const aboutHolaArticle = new NormalizedWeChatArticle('http://mp.weixin.qq.com/s/5NxzEg0N18v-AuOB_RmSDw')\n * await article.normalize()\n * console.log(article.content)\n *\n * @since 0.3.0\n */\nexport default class NormalizedWeChatArticle extends WeChatArticle {\n  /**\n   * Does normalization. Simply overrides {@link NormalizedWeChatArticle#content}\n   * with normalized content.\n   *\n   * If the article instance is not parsed yet, this method will get it parsed first.\n   *\n   * @return {NormalizedWeChatArticle}\n   */\n  async normalize () {\n    if (!this.isParsed()) await this.fetchAndParse()\n    /** @type {String} */\n    this._origContent = this.content\n    const $ = super.getContent$()\n    /** @type {String} */\n    this.content = normalize($)('*').first().parent().html().trim()\n    return this\n  }\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/class/NormalizedWeChatArticle.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 71,
    "kind": "class",
    "name": "NormalizedWeChatArticle",
    "memberof": "src/class/NormalizedWeChatArticle.js",
    "static": true,
    "longname": "src/class/NormalizedWeChatArticle.js~NormalizedWeChatArticle",
    "access": "public",
    "export": true,
    "importPath": "wearticle/src/class/NormalizedWeChatArticle.js",
    "importStyle": "NormalizedWeChatArticle",
    "description": "`NormalizedWeChatArticle` is for fetching & normalize a WeChat article. It\nextends {@link WeChatArticle}, and has an extra method\n{@link NormalizedWeChatArticle#normalize}.\n\nJust to clarify, this class does nothing more than normalize. Except you don't\nneed to `fetchAndParse` before normalization. But you can still do this\nmanually, so you get the chance to make your own normalization work before our\nprocess, with a cheerio instance from {@link NormalizedWeChatArticle#getContent$}.",
    "examples": [
      "import { NormalizedWeChatArticle } from 'wearticle'\nconst aboutHolaArticle = new NormalizedWeChatArticle('http://mp.weixin.qq.com/s/5NxzEg0N18v-AuOB_RmSDw')\nawait article.normalize()\nconsole.log(article.content)"
    ],
    "lineNumber": 22,
    "since": "0.3.0",
    "interface": false,
    "extends": [
      "src/class/WeChatArticle.js~WeChatArticle"
    ]
  },
  {
    "__docId__": 72,
    "kind": "method",
    "name": "normalize",
    "memberof": "src/class/NormalizedWeChatArticle.js~NormalizedWeChatArticle",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/class/NormalizedWeChatArticle.js~NormalizedWeChatArticle#normalize",
    "access": "public",
    "description": "Does normalization. Simply overrides {@link NormalizedWeChatArticle#content}\nwith normalized content.\n\nIf the article instance is not parsed yet, this method will get it parsed first.",
    "lineNumber": 31,
    "return": {
      "nullable": null,
      "types": [
        "NormalizedWeChatArticle"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 73,
    "kind": "member",
    "name": "_origContent",
    "memberof": "src/class/NormalizedWeChatArticle.js~NormalizedWeChatArticle",
    "static": false,
    "longname": "src/class/NormalizedWeChatArticle.js~NormalizedWeChatArticle#_origContent",
    "access": "private",
    "description": null,
    "lineNumber": 34,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 74,
    "kind": "member",
    "name": "content",
    "memberof": "src/class/NormalizedWeChatArticle.js~NormalizedWeChatArticle",
    "static": false,
    "longname": "src/class/NormalizedWeChatArticle.js~NormalizedWeChatArticle#content",
    "access": "public",
    "description": null,
    "lineNumber": 37,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 75,
    "kind": "file",
    "name": "src/class/WeChatArticle.js",
    "content": "import { fetchAndParse } from '../utils'\nimport { collectMedia } from '../lib/media'\nimport moment from 'moment'\nimport { VM } from 'vm2'\n\n/** @external {$} https://cheerio.js.org/ */\n\n/**\n * This class is for a typical WeChat article. Takes an URL to that article.\n * e.g. http://mp.weixin.qq.com/s/5NxzEg0N18v-AuOB_RmSDw\n *\n * In most cases you don't really need to use this class. Use {@link NormalizedWeChatArticle}\n * if you need normalization on articles.\n *\n * All content-based properties are only available after {@link WeChatArticle#fetchAndParse}.\n *\n * @example\n * import { WeChatArticle } from 'wearticle'\n * const article = new WeChatArticle('http://mp.weixin.qq.com/s/5NxzEg0N18v-AuOB_RmSDw')\n * await article.fetchAndParse()\n * console.log(article.toString())\n * // -> WeChatArticle (\"关于 ¡Hola!\" by \"Holateens\")\n *\n * @since 0.1.0\n */\nexport default class WeChatArticle {\n  /**\n   * Take the url. Just note the article won't be actually loaded and parsed\n   * before you call {@link WeChatArticle#fetchAndParse} manually.\n   *\n   * You could see if this article is parsed or not, by using {@link WeChatArticle#isParsed}.\n   *\n   * @param {String} url - A valid WeChat article URL, begins with\n   * `http(s)://mp.weixin.qq.com/s`\n   */\n  constructor (url) {\n    if (!url.match(/https*:\\/\\/mp\\.weixin\\.qq\\.com\\/s[/?]/ig)) {\n      throw new Error(url + ' is not a WeChat article url')\n    }\n\n    /** @type {String} */\n    this.url = url\n\n    this._parsed = false\n  }\n\n  /**\n   * See if this article has been loaded & parsed.\n   *\n   * Load & parse with {@link WeChatArticle#fetchAndParse}.\n   *\n   * @return {Boolean} Parsed or not.\n   */\n  isParsed () { return this._parsed }\n\n  /**\n   * Fetch & parse the article.\n   *\n   * @return {WeChatArticle} Returns `this` so you can chain calls.\n   */\n  async fetchAndParse () {\n    const $ = await fetchAndParse(this.url)\n\n    /** @type {$} */\n    this._$ = $\n\n    let usefulCode = 'const window = {}; const __getInfoFunc = () => {'\n    usefulCode += $('#activity-detail > script:nth-child(7)').get()[0].children[0].data\n    usefulCode += `\n        return {\n          copyrightStat: copyright_stat,\n          account: {\n            id: user_name,\n            name: nickname,\n            avatarUrl: round_head_img\n          },\n          title: msg_title,\n          description: msg_desc,\n          sourceUrl: msg_source_url,\n          headPicUrl: msg_cdn_url\n        };\n      };\n      __getInfoFunc();\n    `\n    const infoObj = (new VM()).run(usefulCode)\n\n    /** @type {String} */\n    this.title = infoObj.title\n\n    /** @type {Date} */\n    this.publishedAt = moment($('#post-date').text().trim()).toDate()\n    const authorEl = $('#meta_content > em:nth-child(2)')\n\n    /**\n     * The author. Only exists when it does have an author field.\n     *\n     * To get a must-have author name, use {@link WeChatArticle#getAuthorName}.\n     * @type {String}\n     */\n    this.author = (authorEl.text() !== $('#post-date').text())\n      ? authorEl.text().trim()\n      : undefined\n    this.account = infoObj.account\n\n    /**\n     * The original content fetched from WeChat public platform. Actually from\n     * `#js_content` part of the whole raw HTML.\n     * @type {String}\n     */\n    this.content = $('#js_content').html()\n\n    this.sourceUrl = infoObj.sourceUrl\n    this.headPicUrl = infoObj.headPicUrl\n    this.description = infoObj.description\n    this._parsed = true\n    return this\n  }\n\n  /**\n   * Returns a cheerio $ of the content.\n   *\n   * To tell the truth, this $ is not a fully functional $. It's actually a\n   * function delegates cheerio instance in some way. You can only use `$(selector)`\n   * there, and even can't use a context.\n   *\n   * @return {$} The cheerio $.\n   * @since 0.2.0\n   */\n  getContent$ () { return selector => this._$(selector, '#js_content') }\n\n  /**\n   * Update content with your modified `$`. Don't forget to do this.\n   *\n   * @since 0.4.0\n   */\n  updateContent () { this.content = this._$('#js_content').html() }\n\n  /**\n   * Get an array of media in the article. Useful when you need to deal with it.\n   * An empty array will be returned in case there is no media.\n   *\n   * Currently we only parse images, so it will be an array of {@link ArticleImage}.\n   * See its documentation for reference.\n   *\n   * Parse media only when you try to get them.\n   *\n   * @return {Array}\n   *\n   * @since 0.4.0\n   */\n  getMedia () {\n    if (!this._media) this._media = collectMedia(this._$)\n    return this._media\n  }\n\n  /**\n   * Returns author's name if the author does specify an author name on the\n   * article, or the name of the Official Account if not.\n   *\n   * @return {String} The author's name.\n   */\n  getAuthorName () { return this.author || this.account.name }\n  toString () {\n    return this._parsed\n      ? `WeChatArticle (\"${this.title}\" by \"${this.getAuthorName()}\")`\n      : `WeChatArticle (unparsed ${this.url})`\n  }\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/class/WeChatArticle.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 76,
    "kind": "external",
    "name": "$",
    "externalLink": "https://cheerio.js.org/",
    "memberof": "src/class/WeChatArticle.js",
    "static": true,
    "longname": "src/class/WeChatArticle.js~$",
    "access": "public",
    "description": null
  },
  {
    "__docId__": 77,
    "kind": "class",
    "name": "WeChatArticle",
    "memberof": "src/class/WeChatArticle.js",
    "static": true,
    "longname": "src/class/WeChatArticle.js~WeChatArticle",
    "access": "public",
    "export": true,
    "importPath": "wearticle/src/class/WeChatArticle.js",
    "importStyle": "WeChatArticle",
    "description": "This class is for a typical WeChat article. Takes an URL to that article.\ne.g. http://mp.weixin.qq.com/s/5NxzEg0N18v-AuOB_RmSDw\n\nIn most cases you don't really need to use this class. Use {@link NormalizedWeChatArticle}\nif you need normalization on articles.\n\nAll content-based properties are only available after {@link WeChatArticle#fetchAndParse}.",
    "examples": [
      "import { WeChatArticle } from 'wearticle'\nconst article = new WeChatArticle('http://mp.weixin.qq.com/s/5NxzEg0N18v-AuOB_RmSDw')\nawait article.fetchAndParse()\nconsole.log(article.toString())\n// -> WeChatArticle (\"关于 ¡Hola!\" by \"Holateens\")"
    ],
    "lineNumber": 26,
    "since": "0.1.0",
    "interface": false
  },
  {
    "__docId__": 78,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#constructor",
    "access": "public",
    "description": "Take the url. Just note the article won't be actually loaded and parsed\nbefore you call {@link WeChatArticle#fetchAndParse} manually.\n\nYou could see if this article is parsed or not, by using {@link WeChatArticle#isParsed}.",
    "lineNumber": 36,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": "A valid WeChat article URL, begins with\n`http(s)://mp.weixin.qq.com/s`"
      }
    ]
  },
  {
    "__docId__": 79,
    "kind": "member",
    "name": "url",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#url",
    "access": "public",
    "description": null,
    "lineNumber": 42,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 80,
    "kind": "member",
    "name": "_parsed",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#_parsed",
    "access": "private",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "type": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 81,
    "kind": "method",
    "name": "isParsed",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#isParsed",
    "access": "public",
    "description": "See if this article has been loaded & parsed.\n\nLoad & parse with {@link WeChatArticle#fetchAndParse}.",
    "lineNumber": 54,
    "return": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": "Parsed or not."
    },
    "params": []
  },
  {
    "__docId__": 82,
    "kind": "method",
    "name": "fetchAndParse",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": true,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#fetchAndParse",
    "access": "public",
    "description": "Fetch & parse the article.",
    "lineNumber": 61,
    "return": {
      "nullable": null,
      "types": [
        "WeChatArticle"
      ],
      "spread": false,
      "description": "Returns `this` so you can chain calls."
    },
    "params": []
  },
  {
    "__docId__": 83,
    "kind": "member",
    "name": "_$",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#_$",
    "access": "private",
    "description": null,
    "lineNumber": 65,
    "type": {
      "nullable": null,
      "types": [
        "$"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 84,
    "kind": "member",
    "name": "title",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#title",
    "access": "public",
    "description": null,
    "lineNumber": 88,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 85,
    "kind": "member",
    "name": "publishedAt",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#publishedAt",
    "access": "public",
    "description": null,
    "lineNumber": 91,
    "type": {
      "nullable": null,
      "types": [
        "Date"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 86,
    "kind": "member",
    "name": "author",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#author",
    "access": "public",
    "description": "The author. Only exists when it does have an author field.\n\nTo get a must-have author name, use {@link WeChatArticle#getAuthorName}.",
    "lineNumber": 100,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 87,
    "kind": "member",
    "name": "account",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#account",
    "access": "public",
    "description": null,
    "lineNumber": 103,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 88,
    "kind": "member",
    "name": "content",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#content",
    "access": "public",
    "description": "The original content fetched from WeChat public platform. Actually from\n`#js_content` part of the whole raw HTML.",
    "lineNumber": 110,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 89,
    "kind": "member",
    "name": "sourceUrl",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#sourceUrl",
    "access": "public",
    "description": null,
    "lineNumber": 112,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 90,
    "kind": "member",
    "name": "headPicUrl",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#headPicUrl",
    "access": "public",
    "description": null,
    "lineNumber": 113,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 91,
    "kind": "member",
    "name": "description",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#description",
    "access": "public",
    "description": null,
    "lineNumber": 114,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 93,
    "kind": "method",
    "name": "getContent$",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#getContent$",
    "access": "public",
    "description": "Returns a cheerio $ of the content.\n\nTo tell the truth, this $ is not a fully functional $. It's actually a\nfunction delegates cheerio instance in some way. You can only use `$(selector)`\nthere, and even can't use a context.",
    "lineNumber": 129,
    "since": "0.2.0",
    "return": {
      "nullable": null,
      "types": [
        "$"
      ],
      "spread": false,
      "description": "The cheerio $."
    },
    "params": []
  },
  {
    "__docId__": 94,
    "kind": "method",
    "name": "updateContent",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#updateContent",
    "access": "public",
    "description": "Update content with your modified `$`. Don't forget to do this.",
    "lineNumber": 136,
    "since": "0.4.0",
    "params": [],
    "return": null
  },
  {
    "__docId__": 96,
    "kind": "method",
    "name": "getMedia",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#getMedia",
    "access": "public",
    "description": "Get an array of media in the article. Useful when you need to deal with it.\nAn empty array will be returned in case there is no media.\n\nCurrently we only parse images, so it will be an array of {@link ArticleImage}.\nSee its documentation for reference.\n\nParse media only when you try to get them.",
    "lineNumber": 151,
    "since": "0.4.0",
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": ""
    },
    "params": []
  },
  {
    "__docId__": 97,
    "kind": "member",
    "name": "_media",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#_media",
    "access": "private",
    "description": null,
    "lineNumber": 152,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 98,
    "kind": "method",
    "name": "getAuthorName",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#getAuthorName",
    "access": "public",
    "description": "Returns author's name if the author does specify an author name on the\narticle, or the name of the Official Account if not.",
    "lineNumber": 162,
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "The author's name."
    },
    "params": []
  },
  {
    "__docId__": 99,
    "kind": "method",
    "name": "toString",
    "memberof": "src/class/WeChatArticle.js~WeChatArticle",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/class/WeChatArticle.js~WeChatArticle#toString",
    "access": "public",
    "description": null,
    "lineNumber": 163,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 100,
    "kind": "file",
    "name": "src/index.js",
    "content": "import WeChatArticle from './class/WeChatArticle'\nimport NormalizedWeChatArticle from './class/NormalizedWeChatArticle'\nimport ArticleImage from './class/ArticleImage'\n\nexport {\n  WeChatArticle,\n  NormalizedWeChatArticle,\n  ArticleImage\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 101,
    "kind": "file",
    "name": "src/lib/media.js",
    "content": "import ArticleImage from '../class/ArticleImage'\n\n/**\n * `collectMedia` is an internal function used to collect media info. Takes the\n * raw `$` and returns the array you can get by {@link WeChatArticle#getMedia}.\n *\n * @param {type} $ - Raw `$`. That means all elements in the original HTML.\n *\n * @return {Array}\n *\n * @since 0.4.0\n */\nexport function collectMedia ($) {\n  const media = []\n  $('img[data-src]').each((i, el) => media.push(new ArticleImage($(el))))\n  return media\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/lib/media.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 102,
    "kind": "function",
    "name": "collectMedia",
    "memberof": "src/lib/media.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/media.js~collectMedia",
    "access": "public",
    "export": true,
    "importPath": "wearticle/src/lib/media.js",
    "importStyle": "{collectMedia}",
    "description": "`collectMedia` is an internal function used to collect media info. Takes the\nraw `$` and returns the array you can get by {@link WeChatArticle#getMedia}.",
    "lineNumber": 13,
    "since": "0.4.0",
    "params": [
      {
        "nullable": null,
        "types": [
          "type"
        ],
        "spread": false,
        "optional": false,
        "name": "$",
        "description": "Raw `$`. That means all elements in the original HTML."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 103,
    "kind": "file",
    "name": "src/lib/style.js",
    "content": "const uselessStyle = {\n  'box-sizing': 'border-box',\n  'background-color': [\n    'rgb\\\\( *255 *, *255 *, *255 *\\\\)', // eslint-disable-line no-useless-escape\n    '#fff',\n    '#ffffff'\n  ],\n  // 'border-width': '0[a-z]*',\n  'white-space': 'normal',\n  'border-style': 'initial',\n  'border-color': 'initial',\n  'outline': ['0px', '0'],\n  'font-family': '[^;]*',\n  // WeChat public platform doesn't cares about fonts,\n  // thus any font family decorations are not useful.\n  '-[a-z]+-transform': '[^;]*'\n  // We no longer need to prefix transform to now;\n  // Actually I don't know why they are prefixed, for\n  // WeChat articles are normally displayed in WeChat.\n}\n\nconst cleanStyleRegexs = [\n  / *; *[^a-z-]/gi // Editors like Xiumi.us can produce extra semicolons.\n]\nObject.keys(uselessStyle).forEach(key => {\n  let values = uselessStyle[key]\n  if (!Array.isArray(values)) values = [values]\n  values.map(value => {\n    cleanStyleRegexs.push(new RegExp(` *${key}: *${value} *!?[a-z]*[ ;]*`, 'gi'))\n  })\n})\n\n/**\n * Internal function to remove unuseful styles from a `style` string.\n *\n * @param {string} styleStr - Original style string from `style` attribute.\n *\n * @return {string} Cleaned style string.\n *\n * @since 0.4.0\n */\nexport function cleanStyle (styleStr) {\n  for (let i = 0; i < cleanStyleRegexs.length; i++) {\n    const regex = Array.isArray(cleanStyleRegexs[i])\n      ? cleanStyleRegexs[i][0]\n      : cleanStyleRegexs[i]\n    const replacement = Array.isArray(cleanStyleRegexs[i])\n      ? cleanStyleRegexs[i][1]\n      : ''\n    styleStr = styleStr.replace(regex, replacement)\n    if (styleStr === '') return null\n  }\n  return styleStr.trim() || null\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/lib/style.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 104,
    "kind": "variable",
    "name": "uselessStyle",
    "memberof": "src/lib/style.js",
    "static": true,
    "longname": "src/lib/style.js~uselessStyle",
    "access": "public",
    "export": false,
    "importPath": "wearticle/src/lib/style.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "{\"box-sizing\": string, \"background-color\": *, \"white-space\": string, \"border-style\": string, \"border-color\": string, \"outline\": *, \"font-family\": string, \"-[a-z]+-transform\": string}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 105,
    "kind": "variable",
    "name": "cleanStyleRegexs",
    "memberof": "src/lib/style.js",
    "static": true,
    "longname": "src/lib/style.js~cleanStyleRegexs",
    "access": "public",
    "export": false,
    "importPath": "wearticle/src/lib/style.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "undefined[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 106,
    "kind": "function",
    "name": "cleanStyle",
    "memberof": "src/lib/style.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/lib/style.js~cleanStyle",
    "access": "public",
    "export": true,
    "importPath": "wearticle/src/lib/style.js",
    "importStyle": "{cleanStyle}",
    "description": "Internal function to remove unuseful styles from a `style` string.",
    "lineNumber": 42,
    "since": "0.4.0",
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "styleStr",
        "description": "Original style string from `style` attribute."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "Cleaned style string."
    }
  },
  {
    "__docId__": 107,
    "kind": "file",
    "name": "src/normalize.js",
    "content": "import { cleanStyle } from './lib/style'\n\n/**\n * **Don't use.** Internal function of {@link NormalizedWeChatArticle}.\n *\n * In case you really need it, it proceeds the content cheerio instance.\n *\n * @private\n *\n * @param {$} $\n *\n * @return {$}\n *\n * @since 0.3.0\n */\nexport function normalize ($) {\n  $('br').each((i, el) => {\n    while ($(el).parent().children().length === 1) {\n      const $p = $(el).parent()\n      $(el).insertAfter($(el).parent())\n      $p.remove()\n    }\n  }) // Unwrap <br>s from any kind of element that only contains a <br>.\n  $('[style]').each((i, el) => $(el).attr('style', cleanStyle($(el).attr('style'))))\n  $('[powered-by]').attr('powered-by', null)\n  $('[class=\"Powered-by-XIUMI V5\"]').attr('class', null)\n  $('[data-label=\"powered by xmt.cn\"]').remove()\n  $('[label]').attr('label', null) // Mostly used to attach copyright of editors.\n  $('[class=\"\"]').attr('class', null)\n  let removals = 1\n  while (removals > 0) {\n    removals = 0\n    $('section').each((e, el) => {\n      if (!$(el).attr('class') && !$(el).attr('style')) {\n        $(el).children().each((i, child) => $(child).insertBefore($(child).parent()))\n        $(el).remove()\n        removals++\n      }\n    }) // Unwrap elements in nonsense sections.\n  }\n  return $\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/normalize.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 108,
    "kind": "function",
    "name": "normalize",
    "memberof": "src/normalize.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/normalize.js~normalize",
    "access": "private",
    "export": true,
    "importPath": "wearticle/src/normalize.js",
    "importStyle": "{normalize}",
    "description": "**Don't use.** Internal function of {@link NormalizedWeChatArticle}.\n\nIn case you really need it, it proceeds the content cheerio instance.",
    "lineNumber": 16,
    "since": "0.3.0",
    "params": [
      {
        "nullable": null,
        "types": [
          "$"
        ],
        "spread": false,
        "optional": false,
        "name": "$",
        "description": ""
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "$"
      ],
      "spread": false,
      "description": ""
    }
  },
  {
    "__docId__": 109,
    "kind": "file",
    "name": "src/utils.js",
    "content": "import cheerio from 'cheerio'\nimport axios from 'axios'\nimport throttle from 'p-throttle'\n\nconst axiosGet = throttle(axios.get, 7, 1000)\n\n/**\n * Internal shorthand for fetching & parsing a general webpage.\n *\n * @private\n *\n * @param {String} url - URL to that page.\n *\n * @return {$} Returns a cheerio instance with the whole HTML from axios.\n *\n * @since 0.2.0\n */\nexport async function fetchAndParse (url) {\n  try {\n    const { data } = await axiosGet(url)\n    return cheerio.load(data)\n  } catch (e) { console.log(e) }\n}\n",
    "static": true,
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/src/utils.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 110,
    "kind": "variable",
    "name": "axiosGet",
    "memberof": "src/utils.js",
    "static": true,
    "longname": "src/utils.js~axiosGet",
    "access": "public",
    "export": false,
    "importPath": "wearticle/src/utils.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 111,
    "kind": "function",
    "name": "fetchAndParse",
    "memberof": "src/utils.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/utils.js~fetchAndParse",
    "access": "private",
    "export": true,
    "importPath": "wearticle/src/utils.js",
    "importStyle": "{fetchAndParse}",
    "description": "Internal shorthand for fetching & parsing a general webpage.",
    "lineNumber": 18,
    "since": "0.2.0",
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "url",
        "description": "URL to that page."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "$"
      ],
      "spread": false,
      "description": "Returns a cheerio instance with the whole HTML from axios."
    }
  },
  {
    "kind": "index",
    "content": "# Project WAN\n\nA server / toolkit to normalize WeChat articles into plain webpages.\n\n## Why\n\nWeChat has built its own system of social networking, and facilitated their own\nplatform of web publishing. WeChat Public Platforms, are very popular among\nChinese netizens, thus we can't miss our audience on WeChat. WeChat articles are\nbasically made with HTML markups, but with very hard limits on external links,\nembed content and actually you can't interact with this article outside WeChat's\necosystem. With some \"WeChat article editors\"(e.g. Xiumi.us), most WeChat\narticles have terrible HTML structures and markups, making it hard to be crawled\nby search engines and webpage optimizers(like Telegram's Instant View).\n\n## So What?\n\nThis project aims to capture, normalize, purify and serve WeChat articles into\nstandard webpages.\n\n* **Capture**: capture the HTML and assets served by WeChat platform.\n* **Normalize**: Remove `poweredby` and other useless attributes, unwrap elements\nwhich was far too wrapped by elements, etc.\n* **Purify**(optional): You may need much pure HTML documents. This process\nreconstruct all elements based on pure content. Only crucial styles will be\npreserved, like `text-align`. Decorational widgets & tiny images removed.\n* **Serve**(optional): You may want to push your WeChat articles to your website,\nand style them with your website's styles. No problem.\n\n## Docs\n\nHosted: https://laosb.github.io/wan\n\nFor local, See `/docs`. Or use `npm run doc` when you tweaked a bit.\n\n## Status\n\nIn progress. Don't push me too hard.\n\n## Legal\n\nThis project itself is licensed under MIT. We don't touch with the content you've\nextracted by this project. Use this at your own risk.\n",
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"wearticle\",\n  \"version\": \"0.4.4\",\n  \"description\": \"A server that normalize WeChat articles to webpages.\",\n  \"main\": \"src/index.js\",\n  \"scripts\": {\n    \"start\": \"node -r @std/esm src/app\",\n    \"test\": \"echo \\\"no test specified\\\" && exit 0\",\n    \"gen-doc\": \"esdoc\",\n    \"serve-doc\": \"(cd docs && live-server)\",\n    \"doc\": \"npm run gen-doc && npm run serve-doc\",\n    \"version\": \"npm run gen-doc && git add docs\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/laosb/wan.git\"\n  },\n  \"keywords\": [\n    \"wechat\",\n    \"html\"\n  ],\n  \"author\": \"laosb\",\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"https://github.com/laosb/wan/issues\"\n  },\n  \"homepage\": \"https://github.com/laosb/wan#readme\",\n  \"dependencies\": {\n    \"@std/esm\": \"^0.19.2\",\n    \"axios\": \"^0.17.1\",\n    \"cheerio\": \"^1.0.0-rc.2\",\n    \"esdoc\": \"^1.0.4\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"moment\": \"^2.20.1\",\n    \"p-throttle\": \"^1.1.0\",\n    \"vm2\": \"^3.5.2\"\n  },\n  \"devDependencies\": {\n    \"babel-eslint\": \"^8.2.1\",\n    \"live-server\": \"^1.2.0\",\n    \"np\": \"^2.18.3\",\n    \"standard\": \"^10.0.3\"\n  },\n  \"standard\": {\n    \"parser\": \"babel-eslint\"\n  },\n  \"@std/esm\": {\n    \"esm\": \"js\",\n    \"cjs\": true\n  }\n}\n",
    "longname": "/Users/laosb/Documents/SoftwareProj/wan/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]